{
    "redis": {
        "description": "Redis数据库配置",
        "type": "object",
        "items": {
            "host": {
                "description": "Redis服务器地址",
                "type": "string",
                "default": "localhost",
                "hint": "Redis服务器的主机名或IP地址"
            },
            "port": {
                "description": "Redis服务器端口",
                "type": "int",
                "default": 6379,
                "min": 1,
                "max": 65535,
                "hint": "Redis服务器的端口号，范围1-65535"
            },
            "db": {
                "description": "Redis数据库编号",
                "type": "int",
                "default": 0,
                "min": 0,
                "max": 15,
                "hint": "Redis数据库编号，范围0-15"
            },
            "password": {
                "description": "Redis认证密码",
                "type": "string",
                "default": "",
                "hint": "Redis服务器的认证密码，留空表示无密码"
            }
        }
    },
    "global_settings": {
        "description": "全局设置",
        "type": "object",
        "items": {
            "default_daily_limit": {
                "description": "默认每日限制次数",
                "type": "int",
                "default": 20,
                "min": 1,
                "max": 1000,
                "hint": "默认情况下每个用户/群组每日可调用AI的次数"
            },
            "exempt_users": {
                "description": "豁免用户列表",
                "type": "list",
                "default": [],
                "hint": "不受限制的用户ID列表，格式支持：QQ号、QQ:FriendMessage:QQ号等",
                "items": {
                    "type": "string"
                }
            },
            "enable_usage_statistics": {
                "description": "启用使用统计",
                "type": "bool",
                "default": true,
                "hint": "是否启用使用统计功能，记录用户使用情况"
            },
            "enable_reminder_notifications": {
                "description": "启用提醒通知",
                "type": "bool",
                "default": true,
                "hint": "是否在用户接近限制时发送提醒通知"
            },
            "reminder_thresholds": {
                "description": "提醒阈值",
                "type": "list",
                "default": [1, 3, 5],
                "hint": "当剩余次数达到这些值时发送提醒通知",
                "items": {
                    "type": "int",
                    "min": 1,
                    "max": 50
                }
            }
        }
    },
    "group_settings": {
        "description": "群组特定设置",
        "type": "object",
        "items": {
            "limits": {
                "description": "群组限制配置",
                "type": "list",
                "default": [],
                "hint": "为特定群组设置不同的限制次数，格式：{\"group_id\": \"群组ID\", \"limit\": 限制次数}",
                "items": {
                    "type": "object",
                    "items": {
                        "group_id": {
                            "description": "群组ID",
                            "type": "string",
                            "hint": "使用指令/sid查看群组ID"
                        },
                        "limit": {
                            "description": "每日限制次数",
                            "type": "int",
                            "min": 1,
                            "max": 1000,
                            "hint": "该群组的每日限制次数"
                        }
                    }
                }
            },
            "mode_settings": {
                "description": "群组模式配置",
                "type": "list",
                "default": [],
                "hint": "设置群组的计数模式，格式：{\"group_id\": \"群组ID\", \"mode\": \"shared\"或\"individual\"}",
                "items": {
                    "type": "object",
                    "items": {
                        "group_id": {
                            "description": "群组ID",
                            "type": "string",
                            "hint": "使用指令/sid查看群组ID"
                        },
                        "mode": {
                            "description": "群组计数模式",
                            "type": "string",
                            "enum": ["shared", "individual"],
                            "hint": "shared: 群组共享计数，individual: 用户独立计数"
                        }
                    }
                }
            }
        }
    },
    "user_settings": {
        "description": "用户特定设置",
        "type": "object",
        "items": {
            "limits": {
                "description": "用户限制配置",
                "type": "list",
                "default": [],
                "hint": "为特定用户设置不同的限制次数，格式：{\"user_id\": \"用户ID\", \"limit\": 限制次数}",
                "items": {
                    "type": "object",
                    "items": {
                        "user_id": {
                            "description": "用户ID",
                            "type": "string",
                            "hint": "用户的唯一标识符"
                        },
                        "limit": {
                            "description": "每日限制次数",
                            "type": "int",
                            "min": 1,
                            "max": 1000,
                            "hint": "该用户的每日限制次数"
                        }
                    }
                }
            }
        }
    },
    "time_period_settings": {
        "description": "时间段限制设置",
        "type": "object",
        "items": {
            "limits": {
                "description": "时间段限制配置",
                "type": "list",
                "default": [],
                "hint": "在特定时间段内设置不同的限制次数，格式：{\"start_time\": \"HH:MM\", \"end_time\": \"HH:MM\", \"limit\": 限制次数, \"enabled\": true/false}",
                "items": {
                    "type": "object",
                    "items": {
                        "name": {
                            "description": "时间段名称",
                            "type": "string",
                            "default": "",
                            "hint": "时间段的描述性名称（可选）"
                        },
                        "start_time": {
                            "description": "开始时间",
                            "type": "string",
                            "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                            "hint": "开始时间，格式：HH:MM（24小时制）"
                        },
                        "end_time": {
                            "description": "结束时间",
                            "type": "string",
                            "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                            "hint": "结束时间，格式：HH:MM（24小时制）"
                        },
                        "limit": {
                            "description": "限制次数",
                            "type": "int",
                            "min": 1,
                            "max": 1000,
                            "hint": "该时间段内的限制次数"
                        },
                        "enabled": {
                            "description": "是否启用",
                            "type": "bool",
                            "default": false,
                            "hint": "是否启用该时间段限制"
                        }
                    }
                }
            }
        }
    }
}